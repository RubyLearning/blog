---
draft: false
title: 'Matt Aimonetti: Why on earth would you ignore Merb?'
date: 2008-12-18
author: Satish Talim
authorlink: http://satishtalim.com
socialsharing: true
authorgoogleplus: https://plus.google.com/+SatishTalim/about
authorlinkedin: https://www.linkedin.com/in/satishtalim
authortwitter: http://twitter.com/IndianGuru
authorfacebook: http://www.facebook.com/satishtalim/about
categories:
- Interview
- JRuby
- Rails
- Ruby
description:
- Matt Aimonetti shows how Merb is the Ruby framework of the future.
jeremymcanally@gmail.com:
- jeremymcanally
keywords:
- Matt Aimonetti
- Merb
- Merbist
- Ruby programming
layout: post
mattaimonetti@gmail.com:
- merbist
nicolas.alpi@gmail.com:
- spyou
permalink: /2008/12/18/matt-aimonetti-why-on-earth-would-you-ignore-merb/
softmindsystems@gmail.com:
- SoftMind
tags:
- interviews
- JRuby
- Matt Aimonetti
- Merb
- Merbist
- Rails
- Ruby
- RubyLearning
topsy_short_url:
- http://bit.ly/dpDnbr
---

<div>
  <p class="update">
    <span class="drop_cap">I</span>f you were to ask me, I&#8217;d say that <strong>Merb</strong> has caught the fancy of Rubyists around the world and it&#8217;s not just hype. Recently <abbr title="RubyLearning">RL</abbr> conducted a <a href="http://rubylearning.com/blog/2008/11/15/can-you-help-rubylearning-with-your-suggestions/">poll on new course offerings</a> where 1000 Rubyists (from over 140 countries) voted. Over 30% requested for an <a href="http://rubylearning.com/blog/2008/12/06/introduction-to-merb-a-new-course/">Introductory course on Merb</a>. RL&#8217;s Satish Talim caught up with <strong>Matt Aimonetti</strong> (a serious Ruby addict and Merb core team member) to learn more about Merb.
  </p>
  
  <p>
    <img class="alignright" src="http://rubylearning.com/images/m_aimonetti.jpg" alt="Matt Aimonetti, USA" title="Matt Aimonetti, USA" width="170" height="184" />
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Welcome, Matt and thanks for taking out time to share your thoughts. For the benefit of the readers, could you tell us something about your self?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> Hi Satish, thank you for giving me the opportunity.
  </p>
  
  <p>
    I wish I could tell you that I have been programming in lisp since I was 4. Unfortunately I can&#8217;t. However, I learnt English thanks to my dad who was an accountant and put his work computer in my bedroom. I believe the first English word I saw was: &#8220;ready&#8221;.
  </p>
  
  <p>
    I&#8217;m 100% Mediterranean, born and raised in France with Italian, Spanish and North African roots. I have travelled a lot and lived in different countries. I&#8217;m now located in San Diego, CA where I live with my wife.
  </p>
  
  <p>
    But I guess your readers are more interested in the &#8220;Ruby-esque&#8221; aspect of my life. I&#8217;m part of the Merb core team and have been a contributor to many Ruby open source projects, from Rails to DataMapper without forgetting a legion or gems and plugins more or less interesting/useful. I fell in love with Ruby when I evaluated Rails for a previous employer. Since then, I have setup my own consulting company offering development and training. I&#8217;m also leading a new project that I&#8217;m particularly fond of: <a href="http://book.merbist.com/">The Merb Open Source Book</a>. It&#8217;s pretty exciting to work with great people from all around the world. We all have the same passion; we have people who just started using Merb, some experts and some with editorial experience.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Recently, there has been a lot of talk about Merb. What&#8217;s Merb and why is it becoming so popular in the Ruby world?</span>
  </p>
  
  <blockquote class="right">
    <p>
      Merb &#8211; Ruby web framework for the enterprise
    </p>
  </blockquote>
  
  <p>
    <strong>Matt>></strong> Merb is a Ruby framework to build web applications and web services. Merb started being developed in 2006.<br /> Merb is getting popular inside and outside reasons because of some of these factors:
  </p>
  
  <ul>
    <li>
      Merb reached the 1.0 cap
    </li>
    <li>
      Merb has a guaranteed public API
    </li>
    <li>
      Merb is truly modular and agnostic
    </li>
    <li>
      Merb is fast and cares about performances
    </li>
    <li>
      Merb tries to be closer to the Ruby language
    </li>
    <li>
      Merb is new and different
    </li>
    <li>
      Merb has a different philosophy
    </li>
    <li>
      Merb learnt from Rails
    </li>
  </ul>
  
  <p>
    Of course different people are attracted to Merb for different reasons. I have started a new interview series called <a href="http://merbist.com/category/meet-the-merbists/">Meet the Merbists</a>. I hope to interview a lot of different people and let them explain why they like Merb.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> If I wanted to learn and start using Merb, how do I do that? Can you talk about what all is being done for Merb in terms of documentation, books, tutorials and training?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> In all honesty, even though the Ruby community do a lot of things right, we really aren&#8217;t good at documentation. If you look at other languages like Python and other frameworks like Code Igniter or Django, you will see a different level of documentation. The good news is that we are aware of that problem and are working on it.
  </p>
  
  <p>
    To answer your question, I would say that if you want to learn Merb, you need to start with Ruby. I heard a lot of good things about &#8220;<a href="http://www.amazon.com/Beginning-Ruby-Professional-Peter-Cooper/dp/1590597664/">Beginning Ruby</a>&#8221; even though I have not read it. My personal favorite Ruby books are: &#8220;<a href="http://oreilly.com/catalog/9780596516178/">The Ruby Programming Language</a>&#8221; and<br /> &#8220;<a href="http://www.amazon.com/Ruby-Way-Second-Addison-Wesley-Professional/dp/0672328844">The Ruby Way</a>&#8220;. You can also find a lot of great resources online.
  </p>
  
  <p>
    Once you feel ready to start with Merb, you can look at a few things:
  </p>
  
  <ul>
    <li>
      <a href="http://book.merbist.com/">The Merb Open Source Book</a>: It&#8217;s available, though still a work in progress and being translated in 14 languages. It still needs a lot of work but it&#8217;s a good place to start.
    </li>
    <li>
      <a href="http://wiki.merbivore.com/">The Merb Wiki</a>: We rewrote the wiki for Merb 1.0 and people keep on adding content daily (sample apps with code are available there).
    </li>
    <li>
      One of the Merb beta books: <a href="http://my.safaribooksonline.com/9780321601636?portal=oreilly">The Merb Way</a> or <a href="http://www.manning.com/ivey/">Merb in Action</a> (2 more books are coming out soon).
    </li>
    <li>
      Check the Merb documentation at <a href="http://merbivore.com/documentation.html">http://merbivore.com/documentation.html</a> and <a href="http://docsbeta.merbivore.com/">http://docsbeta.merbivore.com/</a>.
    </li>
    <li>
      Blogs covering Merb: <a href="http://merbist.com/">http://merbist.com/</a>, <a href="http://yehudakatz.com/">http://yehudakatz.com/</a>, <a href="http://www.merbunity.com/">http://www.merbunity.com/</a>, <a href="http://www.merboverheard.com/">http://www.merboverheard.com/</a> and many more.
    </li>
    <li>
      IRC: #merb on freenode.net
    </li>
    <li>
      Twitter: follow @merbist, @merbivore, @wycats and others. Feel free to ask questions.
    </li>
    <li>
      <a href="http://peepcode.com/">Peepcode</a>: PDF and soon to be released screencast (rough cut available).
    </li>
    <li>
      Read the source code and check the <a href="http://github.com/wycats/merb/tree/master">public specs</a>.
    </li>
    <li>
      Read the <a href="http://github.com/michaelklishin/merb-internals-handbook/tree/master">Merb internals guide</a> by Michael Klishin.
    </li>
    <li>
      Watch the <a href="http://merbcamp.com/video">Merb Camp videos</a>.
    </li>
  </ul>
  
  <p>
    And on top of that you have the training sessions. <a href="http://rubylearning.com/blog/2008/12/06/introduction-to-merb-a-new-course/">RubyLearning.org</a> has a great introduction to Merb class which is really affordable. My company, <a href="http://ma-agile.com/">m|a agile</a> offers a <a href="http://merbclass.com/">3-day training</a> given by Yehuda and myself. At the moment we only have classes scheduled in the USA, but if there are enough requests we might try to go overseas.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> What are the advantages of Merb over similar web frameworks? Any drawbacks?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> It&#8217;s always a hard question to answer. I&#8217;m not going to try to convince people to switch to Merb if they are happy with the framework they use. Instead I will give you my personal and therefore a biased opinion.
  </p>
  
  <p>
    People have different needs and different ways of approaching problems. <em>Merb is strongly inspired by Rails but has a different approach on how the framework should work and how it relates to people</em>. I believe this is the key difference between Merb and Rails.
  </p>
  
  <p>
    During an interview for <a href="http://www.infoq.com/interviews/David-Hansson">InfoQ.com</a>, David Heinemeier Hansson the creator of Ruby on Rails said:
  </p>
  
  <blockquote>
    <p>
      I&#8217;m not in this world to create Rails for you. I&#8217;m in this world to create Rails for me and if you happen to like that version of Rails that I&#8217;m creating for me, than you are going to have a great time. [&#8230;] I don&#8217;t really care whether you use Rails or not. I think it&#8217;s great that we have critical mass, and I care about that; but I don&#8217;t care about you as a single individual customer.
    </p>
  </blockquote>
  
  <p>
    It&#8217;s not a scoop. Rails is very opinionated and that&#8217;s why it&#8217;s so successful. Merb&#8217;s philosophy is different: let people choose and build around a solid and small core. Merb is built around 1 single gem called merb-core. merb-core is built around Rack to allow more flexibility, it has a powerful router and knows how to deal with requests/sessions. It&#8217;s up to the developer to build his own stack based on his needs. We offer some default settings to get you started:
  </p>
  
  <ul>
    <li>
      a very flat stack: 1 file app &#8220;A la Sinatra&#8221; (great for web services)
    </li>
    <li>
      a flat stack: keeps the logic in a single file, but has separate files for configuration and views (great for very simple apps)
    </li>
    <li>
      a core stack: MVC structure but without any dependencies or ORM setup. It&#8217;s up to you to define what you want to use (great for custom apps using couchdb, sequel, JRuby etc&#8230;)
    </li>
    <li>
      a full stack: MVC structure with DataMapper, merb auth, helpers, assets, mailer, cache, action-args, param-protection (Rich Web Applications)
    </li>
  </ul>
  
  <p>
    <img class="alignright" src="http://rubylearning.com/images/powered-by-merb-big.png" alt="Merb" title="Merb - Ruby web framework for the enterprise" width="128" height="60" />
  </p>
  
  <p>
    You can always add or remove dependencies to your app making sure you only use what you need and keep your performance to the maximum. The reason is that Merb came to the world because some people were frustrated by some limitations in Rails. It was designed for performance and to fulfill the needs of various types of developers. Merb can be really opinionated but also knows it has to deal with really opinionated developers who might disagree. It&#8217;s therefore designed to let you design your own opinionated stack.
  </p>
  
  <p>
    To sum-up: Merb is great when you need a custom solution and/or when you care about performance. It shines when dealing with legacy/custom/enterprise type applications or small and efficient systems like web services.
  </p>
  
  <p>
    However, because it&#8217;s so flexible it requires you to know and understand the various moving parts. That&#8217;s why you might not get up and running as fast as with Rails.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> We have so many Ruby based web frameworks. On what type of projects would you use Merb?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> That&#8217;s a very good question. As a consultant that&#8217;s something I&#8217;m being asked a lot.
  </p>
  
  <p>
    Recently I&#8217;ve been involved with some projects where CouchDB seemed to be really the way to go because of the complexity of the architecture and the fact that Couch was offering a very elegant solution. I did not need a full-fledge ORM like ActiveRecord, DataMapper or Sequel and I didn&#8217;t feel like fighting with the framework to get it just the way I needed it. Merb was a perfect choice to adjust to the custom needs of this project.
  </p>
  
  <p>
    Another project uses Merb slices (standalone apps which can be mounted in another app) for different reusable parts of the application. The slices can be customized and reused on various applications. The client saw that this had a real benefit.
  </p>
  
  <p>
    Another project was getting 7-10 million requests per day. The first version of the application was written in Rails but we had to customize/optimize it so much that it was hard to support/maintain. We ended up rewriting the application with Merb (using ActiveRecord). We still had to optimize it to deal with the load but it was easier to just pick and choose what we needed. Being able to easily read the source code was also a great benefit.
  </p>
  
  <p>
    Finally the merb-book is an excellent example of how to use merb without all the fluff. The book deals with different languages, including Arabic (right to left) and renders markdown content using maruku (a markdown to html/latex/pdf gem). It&#8217;s simple, efficient and was written in less than 2 hours. Ultimately, the book will be exported to static HTML (using a plugin written by topfunky) and PDF (using a jruby/flying saucer plugin).
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> How do you plan to support Merb over JRuby?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> As a team, <span style="background-color: #FFFFCC;">the merb team works pretty closely with the JRuby team</span>. We micro-benchmarked JRuby and Merb on a 8 core machine and got 14,000 requests per second. That&#8217;s pretty impressive! Of course, I would not expect to get these kinds of results in a production app, but that proves the potential of such a combo.
  </p>
  
  <p>
    JRuby&#8217;s threading system has some great advantages and that&#8217;s something Merb always valued. Of course things are not perfect yet but we do our best to fix bugs when they are reported to us. We are also planning on further optimizing Merb specifically for JRuby. We believe this is a great choice for the enterprise and we want to fully support people choosing JRuby and Merb. Expect a lot of improvements and even better support and performance.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Are there any IDE&#8217;s for Merb?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> Any IDE&#8217;s for Ruby will work with Merb. However, the core team has been working with Sun&#8217;s <a href="http://www.netbeans.org/">Netbeans team</a> to add custom Merb support to their next version. Even though none of the Merb core team member use an IDE, we recognize that a lot of people, especially coming from a different background are used to IDEs and we should do our best to make their transition easier. I personally really like profiling and re-factoring tools so I wouldn&#8217;t mind a light yet powerful IDE.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Talking about Merb without talking about DataMapper, Mongrel or Erb is difficult. How much &#8220;decoupling&#8221; exists between Merb and DataMapper and the DataObject adapters and if in the near future whether there will be an adapter for JDBC?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> Very good question. DataMapper is an Object Relational Mapper (ORM). The goal of an ORM is to convert scalar values from a data store (a database for instance) to objects in your programming language. People with a Rails background are familiar with another ORM: ActiveRecord. DataMapper has a unified API/inteface to access adapters. MySQL, Postgres and SQLite3 adapters use DataObjects drivers. These drivers were rewritten from scratch in C to match the DataMapper API. By using this unified API, DataMapper doesn&#8217;t need to hold all the logic and therefore stays simpler and easier to maintain. The problem is that people need to write adapters. The good news is that it&#8217;s really easy since you have an API already defined for you.
  </p>
  
  <p>
    You can look at examples like my google video adapter or Yehuda&#8217;s Salesforce adapter which were written in very few lines of code. As the Database adapters rely on C drivers, they don&#8217;t run on JRuby yet. That&#8217;s why the DataMapper team is working on a JDBC adapter.
  </p>
  
  <p>
    Now that I have explained a bit more about DataMapper, let me address the question of decoupling. DataMapper (DM) is a separate project and even though the Merb team is often involved with DM, it is not managed by us. Merb doesn&#8217;t rely on DataMapper and only the &#8220;opinionated stack&#8221; uses DataMapper by default. As a matter of fact, Merb supports a lot of adapters: DataMapper, Sequel, ActiveRecord, RelaxDB and can support new ones as they will be released. Once again, people have different needs and we believe they should make a choice which ORM they prefer to use.
  </p>
  
  <p>
    Take YellowPages.com for instance, Lori and Jacob use and love Sequel. Lori did a presentation at MerbCamp and is actively supporting Sequel&#8217;s integration in Merb. They are both also working on the Sequel section of the merb-book. Because of my involvement with CouchDB, I use CouchRest quite a lot. CouchRest is just not really an ORM per say and it works great with Merb. So really, if you don&#8217;t want to, you don&#8217;t have to use DataMapper.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Is there a Merb (community) support for Windows, Linux and MacOS? Or is the framework development currently focused on just a specific operating system?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> In all honestly, I wish I could tell you that there is full support for all the platforms. Unfortunately the reality is slightly different. While we do want to support Windows, none of us use Windows daily. And if you ever tried, you know that using Ruby on Windows is painful. It&#8217;s slow and not really optimized. However, thanks to people like Luis Lavena things are easier. We are working with Luis to make sure that we don&#8217;t leave the Windows users behind. I really hope that soon, we will have an overall better Ruby support on windows. Apple shipping its OSX with Ruby obviously makes things easier, the core team uses MacOSX and Linux to develop and we all deploy to linux servers.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Will Merb work as well as Rails under passenger, or will there be plans for moving forward with mod_rails? In essence, how do you expect the hosting support in the very near future to unfold for Merb? Rails took quite a while to be supported as much as it is right now, and even so it doesn&#8217;t reach the same base as PHP or ASP or even Python support for hosting services.</span>
  </p>
  
  <p>
    <strong>Matt>></strong> This is another question we get quite often. Phusion Passenger is a great project which changed the way you deploy Ruby apps. Passenger is an apache module which simplified the life of many people and opened the door to shared hosting (it makes it easier to manage accounts according to <a href="http://www.locaweb.com.br/portal.html">locaweb.com.br</a>). But it&#8217;s more than that, the Phusion guys also worked on Ruby Enterprise Edition (REE), a patched version of Ruby designed to optimize memory usage. Merb is already setup to take advantage of the REE optimizations if you decide to use REE instead of the standard MRI. Passenger is also designed to serve all Rack based applications and therefore support Merb but also Sinatra, Ramaze, Mack etc&#8230;
  </p>
  
  <p>
    However, it is true that Passenger is specifically optimized for Rails and does stuff it won&#8217;t do with Merb and the other Rack based frameworks. I know of a few people deploying their merb apps on passenger and being really cool about it. However, we really hope to be able to work with the Phusion guys and specially optimize Merb for passenger. It&#8217;s very important to keep things simple and I can assure you we are going to do our best to make sure Merb and Passenger work together in an optimized way.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Any comments about Mack, Ramaze and Sinatra &#8211; or any of the &#8220;new&#8221; MVC players in Ruby for web applications?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> I&#8217;m actually really excited to see so many new frameworks. Some are not so new but people are probably a bit more open nowadays. I need to spend more time studying what they do, how they do it and why. As a team, we have spent some time looking at other frameworks, including outside the Ruby world. We learnt a lot from Django for instance. Our concept of slices is really close to their concept of &#8220;applications&#8221;. But what is exciting about all these frameworks is that we are all using Rack. And now Rails has joined the party.
  </p>
  
  <p>
    The great advantage of Rack is that we can share adapters and we can share middlewares. The other day I was chatting with Bitsweat from the Rails core team about some really cool middleware they&#8217;ve been working on. I&#8217;m really happy to see that we will all be able to work on some common piece of code which we all be able to share. I&#8217;m also interested in frameworks with a different perspective like Waves. I don&#8217;t fully understand it yet but I&#8217;m sure it will enrich our community.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Is Merb being used by companies? Can you name a few?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> We have a <a href="http://wiki.merbivore.com/about/using_merb">list of people using Merb</a> on the wiki. The best thing to do is to check there. Some names I have in mind would be of course Apple via Sproutcore which is used for MobileMe. Yellow Pages which now uses Merb for their service tier. I heard Wikipedia is using Merb on a small project lead by Hampton Catlin (the Haml guy). Microsoft/powerset is using Merb. I believe hulu.com used to use Merb a long time ago, but I&#8217;m not sure whether they are still using it. Some other companies prefer not to mention these kind of things, but if you look for job offers you will find companies like Adobe looking for Merbists.
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> What&#8217;s the future of Merb?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> The best person to ask would be Yehuda Katz, Merb lead developer. Right now we are in &#8220;community support mode&#8221;. Now that we have released a stable API and have a solid code base, people have started using Merb and we are listening to their feedback. We are building the framework for the developers and we need to know what they need. We&#8217;ve been focusing on trying to fix all the little annoyances. We are monitoring IRC and twitter to see what people complain about and we work on it. The immediate future top priorities are: Documentation and Gem dependencies. That&#8217;s why I started the merb-book and Yehuda worked on a documentation app and a new optimized bundler (he also worked on RubyGems and hopefully his changes will be available in the next release).
  </p>
  
  <p>
    Once this is solved we will be able to focus on Merb 1.1. Merb 1.1 will focus on a few things, mainly:
  </p>
  
  <ul>
    <li>
      improving the concept of slices by making any application a namespaced mountable application
    </li>
    <li>
      increase the interaction with Rack to allow more flexibility and performance
    </li>
    <li>
      push the concept of resources even further reducing duplication in your code
    </li>
    <li>
      significantly improve the performance of large route sets
    </li>
  </ul>
  
  <p>
    In the long term we are also focusing on two categories of people, a bit left behind at the moment:
  </p>
  
  <ul>
    <li>
      the enterprise users
    </li>
    <li>
      Rapid Prototypes designers needing the simplicity of PHP and sexiness of Ruby
    </li>
  </ul>
  
  <p>
    On the way to 2.0 we are also planning on working on cool Merb slices like an admin slice, a slice administrator etc..
  </p>
  
  <p>
    <span style="color:#CC3333;"><strong>RL>></strong> Matt, thank you for your time. Anything else you would like to add?</span>
  </p>
  
  <p>
    <strong>Matt>></strong> I would like to thank the rest of the core team and all the contributors, including all the translators working on the merb book. A big thanks to Matz and the Ruby core team for an awesome language, thanks to DHH and the Rails core team for pushing Ruby and creating Rails. And of course thanks to <strong>RubyLearning</strong> for supporting the project and offering an exclusive opportunity to learn more about Merb.
  </p>
  
  <p>
    <span style="font-size: 8pt; font-family: Arial;"><i><strong>Disclaimer:</strong></i></span><br /><span style="font-size: 8pt; font-family: Arial;"><i>The opinions expressed are those of Matt Aimonetti and do not necessarily reflect those of <strong><a href="http://rubylearning.com/">www.RubyLearning.com</a></strong>.</i></span>
  </p>
</div>

